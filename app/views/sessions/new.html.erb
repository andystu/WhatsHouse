<% provide(:title, "Sign in") %>
<div id = "sign_in">
<div class="ui form signin segment" id="signin">
   <% flash.each do |key, value| %>
		<span class="ui small error message alert-<%= key %>"><%= value %></span>
   <% end %>
  <%= form_for(:session, url: sessions_path) do |f| %>
  <div class="field">
    <%= f.label :email%> 
	<div class="ui left labeled icon input">
      <%= f.text_field :email%>
      <i class="mail icon"></i>
      <div class="ui corner label">
      <i class="icon asterisk"></i>
      </div>
	</div>
  </div>
  <div class="field">
    <%= f.label :'密碼' %>
    <div class="ui left labeled icon input">
    <%= f.password_field :password%>
      <i class="lock icon"></i>
      <div class="ui corner label">
        <i class="icon asterisk"></i>
      </div>
    </div>
    <p><%= link_to "忘記密碼", new_password_reset_path %></p>
    <%= f.submit "登入", class: "ui blue submit button" %>
    <p>新的使用者? <%= link_to "現在註冊!", signup_path %></p>
    <% end %>
  </div>
</div>


<script>
$(document).ready(function(){
  $('#signin').form({       
    email: {
      identifier: "session[email]",
      rules: [{
        type: 'empty',
        prompt: 'Please enter your email'
      },{
        type: 'email',
        prompt: 'Please enter a valid email'
      }]
    },       
    password: {
      identifier: "session[password]",
      rules: [{
        type: 'empty',
        prompt: 'Please enter a password'
      },{
        type: 'length[6]',
        prompt: 'Password needs to be atleast 6 characters long'
      }]
    }
  }, {
    on: 'blur',
    inline: 'true',
    onSuccess : function() {
    }
  });
});
</script>